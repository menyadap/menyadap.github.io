---
// Alert.astro - Shortcode komponen untuk peringatan/notifikasi
// Gunakan di file .md dengan: <Alert type="warning">Konten peringatan</Alert>

interface Props {
  type?: 'info' | 'warning' | 'danger' | 'success';
  title?: string;
}

const {
  type = 'info',
  title
} = Astro.props;

// Warna dan ikon berdasarkan tipe alert
const alertConfig = {
  info: { icon: 'ℹ️', className: 'alert-info' },
  warning: { icon: '⚠️', className: 'alert-warning' },
  danger: { icon: '❌', className: 'alert-danger' },
  success: { icon: '✅', className: 'alert-success' }
};

const config = alertConfig[type];
---

<!-- Shortcode untuk alert/notification box -->
<div class={`alert ${config.className}`} role="alert">
  <div class="alert-content">
    <span class="alert-icon">{config.icon}</span>
    {title && <strong class="alert-title">{title}</strong>}
    <slot />
  </div>
</div>

<style>
  .alert {
    padding: 1rem 1.25rem;
    margin-bottom: 1rem;
    border: 1px solid transparent;
    border-radius: 0.375rem;
  }

  .alert-content {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .alert-icon {
    font-size: 1.5rem;
    margin-right: 0.5rem;
    display: inline-block;
  }

  .alert-title {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 600;
  }

  .alert-info {
    color: #004085;
    background-color: #d1ecf1;
    border-color: #bee5eb;
  }

  [data-theme="dark"] .alert-info {
    color: #7dd3fc;
    background-color: #0c2d3a;
    border-color: #06486a;
  }

  .alert-warning {
    color: #856404;
    background-color: #fff3cd;
    border-color: #ffeeba;
  }

  [data-theme="dark"] .alert-warning {
    color: #fbbf24;
    background-color: #3a2e0b;
    border-color: #7c2d12;
  }

  .alert-danger {
    color: #721c24;
    background-color: #f8d7da;
    border-color: #f5c6cb;
  }

  [data-theme="dark"] .alert-danger {
    color: #fca5a5;
    background-color: #3a1c1c;
    border-color: #5a1a1a;
  }

  .alert-success {
    color: #155724;
    background-color: #d4edda;
    border-color: #c3e6cb;
  }

  [data-theme="dark"] .alert-success {
    color: #86efac;
    background-color: #1a3a1a;
    border-color: #2a5a2a;
  }
</style>

